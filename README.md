# Инструкция по эксплуатации микросервисного приложения

## ВНИМАНИЕ!

Чтобы начать работу с данным приложением, для начала необходимо скомплеирвоать docker-compose.yml.
Приложение поддерживает защищено ситсемой Authentication via bearer token. Чтобы получить этот токен,
необходимо выполнить слудющий запрос:

- **URL**: `/api/v1/auth`
- **Метод**: `POST`
- **Описание**: Передать json объект: {
  "email": "yashaborovcov@gmail.com",
  "password": "password"
  } .




Данное миксровервисное приложение состоит из трех основных сервисов: **discovery-service**, **gateway-service**, *
*library-service** и **diary-service** .

## Обзор сервисов

### 1. Discovery Service

**Discovery Service** - это сервис регистрации и обнаружения микросервисов. Он отвечает за регистрацию всех
микросервисов и обеспечивает им доступ друг к другу. Этот сервис важен для правильной работы вашей микросервисной
архитектуры, так как облегчает обнаружение и взаимодействие между сервисами.

### 2. Gateway Service

**Gateway Service** - это сервис шлюза, который работает как точка входа в ваше приложение. Он обеспечивает
маршрутизацию запросов клиентов к соответствующим микросервисам и может выполнять функции аутентификации, авторизации и
многие другие. Он также обеспечивает защиту от атак и управление доступом.

### 3. Library Service

**Library Service** - это ваш основной микросервис, который управляет каталогом книг. Он подключен к базе
данных `library` и предоставляет операции CRUD (Create, Read, Update, Delete) для сущности **Book**.

## Использование Library Service

### Получение всех книг

- **URL**: `/api/v1/books`
- **Метод**: `GET`
- **Описание**: Получение списка всех книг в каталоге.

### Получение книги по ID

- **URL**: `/api/v1/books/{id}`
- **Метод**: `GET`
- **Описание**: Получение книги по её уникальному идентификатору.

### Получение книги по ISBN

- **URL**: `/api/v1/books/isbn/{ISBN}`
- **Метод**: `GET`
- **Описание**: Получение книги по её ISBN.

### Создание новой книги

- **URL**: `/api/v1/books`
- **Метод**: `POST`
- **Описание**: Создание новой книги в каталоге. После создания книги, информация об этой книге отправляется в *
  *Discovery Service** через Apache Kafka.

### Удаление книги

- **URL**: `/api/v1/books/{id}`
- **Метод**: `DELETE`
- **Описание**: Удаление книги по её уникальному идентификатору.

### Обновление книги

- **URL**: `/api/v1/books/{id}`
- **Метод**: `PUT`
- **Описание**: Обновление информации о книге по её уникальному идентификатору.

### 4. Diary Service

**Diary Service** - это микросервис, который управляет дневником аренды книг. Он предоставляет операции для отслеживания
доступных и арендованных книг, а также для обновления статуса аренды.

## Использование Diary Service

### Получение всех доступных книг

- **URL**: `/api/v1/diary/available`
- **Метод**: `GET`
- **Описание**: Получение списка всех доступных книг в каталоге.

### Обновление статуса аренды книги

- **URL**: `/api/v1/diary/{id}`
- **Метод**: `PUT`
- **Описание**: Обновление статуса аренды книги по её уникальному идентификатору.

### Получение всех книг

- **URL**: `/api/v1/diary`
- **Метод**: `GET`
- **Описание**: Получение списка всех книг в дневнике аренды.





